{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\carolina.lemes\\\\OneDrive - TSOFT\\\\Escritorio\\\\peke\\\\alkemy-react\\\\formulario-react--main-\\\\src\\\\componentes\\\\Resultados.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, Navigate } from \"react-router-dom\";\nimport swal from 'sweetalert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Resultados = props => {\n  _s();\n\n  let query = new URLSearchParams(window.location.search);\n  let keyword = query.get('keyword');\n  const [moviesResult, setMovieResult] = useState([]);\n  useEffect(() => {\n    const endPoint = `https://api.themoviedb.org/3/search/movie?api_key=75b9f04bb9ba776a3e2318bbe7838f21&language=es-ES&include_adult=false&query=${keyword}`;\n    axios.get(endPoint).then(response => {\n      const movieArrays = response.data.results;\n      console.log(movieArrays);\n\n      if (movieArrays.length === 0) {\n        swal(\"Error\", \"No hubo resultados\", \"error\");\n      }\n\n      setMovieResult(movieArrays);\n    }).catch(error => {\n      swal(\"Error\", \"Hubo un error\", \"error\");\n    });\n  }, [keyword]);\n  let token = sessionStorage.getItem('token');\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!token && /*#__PURE__*/_jsxDEV(Navigate, {\n      replace: true,\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 16\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-white\",\n      children: [\"Buscate: \", /*#__PURE__*/_jsxDEV(\"em\", {\n        children: keyword\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 45\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), moviesResult.length === 0 && /*#__PURE__*/_jsxDEV(\"h3\", {\n      className: \"text-white\",\n      children: \"No hay resultados\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 39\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row my-2 mx-2\",\n      children: moviesResult.map((oneMovie, index) => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card my-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `https://image.tmdb.org/t/p/w500/${oneMovie.poster_path}`,\n              style: {\n                height: \"400px\"\n              },\n              className: \"card-img-top\",\n              alt: \"...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 52,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"favorito\",\n              onClick: props.addOrRemoveFromFavs,\n              \"data-movie-id\": oneMovie.id,\n              children: \"\\uD83D\\uDDA4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"card-body text-center\",\n              style: {\n                height: \"200px\"\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                className: \"card-title\",\n                children: oneMovie.title.substring(0, 30)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"card-text\",\n                children: [oneMovie.overview.substring(0, 100), \"...\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(Link, {\n                to: `/detalle?movieID=${oneMovie.id}`,\n                className: \"btn btn-dark\",\n                children: \"View details\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 17\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 16\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Resultados, \"tPHHvzrmI5SBOnUM42T2OJltKRc=\");\n\n_c = Resultados;\nexport default Resultados;\n\nvar _c;\n\n$RefreshReg$(_c, \"Resultados\");","map":{"version":3,"names":["React","useEffect","useState","axios","Link","Navigate","swal","Resultados","props","query","URLSearchParams","window","location","search","keyword","get","moviesResult","setMovieResult","endPoint","then","response","movieArrays","data","results","console","log","length","catch","error","token","sessionStorage","getItem","map","oneMovie","index","poster_path","height","addOrRemoveFromFavs","id","title","substring","overview"],"sources":["C:/Users/carolina.lemes/OneDrive - TSOFT/Escritorio/peke/alkemy-react/formulario-react--main-/src/componentes/Resultados.js"],"sourcesContent":["import React from 'react'\nimport { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport { Link, Navigate } from \"react-router-dom\";\nimport swal from 'sweetalert';\n\n\nconst Resultados = (props) => {\n\n\n    let query = new URLSearchParams(window.location.search);\n    let keyword = query.get('keyword');\n\n\n\n\n    const[moviesResult, setMovieResult] = useState([]);\n\n    useEffect(() => {\n        const endPoint = `https://api.themoviedb.org/3/search/movie?api_key=75b9f04bb9ba776a3e2318bbe7838f21&language=es-ES&include_adult=false&query=${keyword}`\n        axios.get(endPoint).then(response =>{\n            const movieArrays = response.data.results;\n            console.log(movieArrays)\n            if (movieArrays.length === 0) {\n                swal(\"Error\",\"No hubo resultados\",\"error\"); \n            }\n            setMovieResult(movieArrays)                \n        })\n        .catch(error =>{\n          swal(\"Error\", \"Hubo un error\", \"error\")\n        })\n      \n    }, [keyword])\n\n    \n    let token  = sessionStorage.getItem('token');\n\n  \n\n  return (\n    <>\n\n    {!token && <Navigate replace to=\"/\" />}\n        <h2 className='text-white'>Buscate: <em>{keyword}</em></h2>  \n        {moviesResult.length === 0 && <h3 className='text-white'>No hay resultados</h3>}     \n        <div className=\"row my-2 mx-2\">\n    {\n        moviesResult.map( (oneMovie, index) => {\n          return(\n               <div className=\"col-4\" key={index}>\n                <div className=\"card my-2\">\n                  <img src={`https://image.tmdb.org/t/p/w500/${oneMovie.poster_path}`} style={{height:\"400px\"}} className=\"card-img-top\" alt=\"...\"/>\n                  <button className=\"favorito\"\n                  onClick={props.addOrRemoveFromFavs}\n                  data-movie-id={oneMovie.id}>ðŸ–¤\n                  </button>  \n                  <div className=\"card-body text-center\" style={{height:\"200px\"}}>\n                      <h5 className=\"card-title\">{oneMovie.title.substring(0, 30)}</h5>  \n                      <p className=\"card-text\">{oneMovie.overview.substring(0, 100)}...</p>                   \n                      <Link to={`/detalle?movieID=${oneMovie.id}`} className=\"btn btn-dark\">View details</Link>                    \n                    </div>\n                </div>     \n            </div>  \n          )\n        })\n    }\n         \n    </div>\n    \n    </>\n  )\n}\n\nexport default Resultados"],"mappings":"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"},"metadata":{},"sourceType":"module"}